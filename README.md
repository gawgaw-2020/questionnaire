# ログイン機能付きアンケートアプリ

## スタッフへ向けてのアンケートを想定

## 使用イメージ

<img width="50%" src="demo-img/スクリーンショット 2020-09-16 21.38.33.png">
<img width="50%" src="demo-img/スクリーンショット 2020-09-16 21.39.02.png">
<img width="50%" src="demo-img/スクリーンショット 2020-09-16 21.39.56.png">

## 機能一覧
**スタッフ側機能**
* スタッフログイン機能
* アンケートへの回答画面
* アンケートへの回答の確認画面
* アンケートへの回答の完了画面
* 自動送信メール  
* ログアウト機能  

**責任者側機能**
* 責任者の鍵付き訪問
* スタッフ一覧画面
  * ID
  * 名前
  * メールアドレス
  * アンケートに答えたかどうか
* スタッフの登録機能


## データベース設計

### スタッフテーブル

users utf8mb4
|名前                   |カラム名           |データ型      |その他          |
|:----------------------|:------------------|:-------------|:---------------|
|スタッフID             |id                 |int           |AUTO INCREMENT  |
|名前                   |staff_name         |varchar(255)  |                |
|メールアドレス         |email              |varchar(255)  |unique          |
|パスワード             |password           |varchar(255)  |                |
|アンケートに答えたか   |answer             |int           |                |

## 開発メモ

DB接続
新規スタッフ登録機能
ログイン機能
ログアウト機能

フォームからデータを渡す
 * スタッフ名
 * メール
 * パスワード
 * 確認のパスワード

受け取ってバリデーション  
ユーザー情報を登録（パスワードはハッシュ化）

メールアドレスでquery→カウントして1もしくは0にして検索

Basic認証をかけると下層ページもアクセスできない  
下層ディレクトリに.htaccessがあればそちらが優先される。
ディレクトリを「スタッフ側（ログイン機能）」「責任者側（認証）」で分ける